/**
 * Description: 公共js
 * Created by yangxiangming@live.com on 16/4/7.
 */

// jQuery
$(document).ready(function(){
  console.log('ready');
});

// jQuery
;(function($){
  console.log('jQuery');
}(jQuery));

// jQuery.System.Date
function getTime(){
  var Time = new Date();
  var _y = Time.getFullYear(), _m = Time.getMonth(), _d = Time.getDate()
}

// jQuery.Ajax
function getList(e){
  var _v = //$('input[name="type"]').val() || $('input[name="type"]').attr('data-type');
  $.ajax({
    url:'https://github.com/yangxiangming',
    type:'POST',
    data:$.prarm({type:v, name:'category'}),
    success:function(data){
      // console.log('success.data');
    }
  });
}
// https://github.com/yangxiangming/development.version.code.git
// jQuery.post || jQuery.get
jQuery.post('https://github.com/yangxiangming', {type:v, name:'category'}, function(data){
  console.log('jQuery.post');
}, 'json');

/** CurrentTime */
if (typeof console == "undefined") {
  var console = {
    log: function() {}
  }
}
var swfLoaded = false;
var initTime = undefined;
function setFDF() {
  swfLoaded = true;
  if (initTime) {
    setClockTime(initTime)
  }
  return true
}
function setClockTime(time) {
  if (swfLoaded && swfCtrl) {
    swfCtrl.setTime(time)
  }
}; (function() {
  var week = "日一二三四五六";
  var innerHtml = "{0}:{1}:{2}";
  var dateHtml = "{0}月{1}日 &nbsp;周{2}";
  var timer = 0;
  var beijingTimeZone = 8;
  function format(str, json) {
    return str.replace(/{(\d)}/g,
        function(a, key) {
          return json[key]
        })
  }
  function p(s) {
    return s < 10 ? "0" + s: s
  }
  window.list_time = function(time) {
    initTime = time;
    show(time);
    timer = setInterval(function() {
          time += 1000;
          show(time)
        },
        1000)
  };
  function show(time) {
    var timeOffset = (( - 1 * (new Date()).getTimezoneOffset()) - (beijingTimeZone * 60)) * 60000;
    var now = new Date(time - timeOffset);
    document.getElementById("time").innerHTML = format(innerHtml, [p(now.getHours()), p(now.getMinutes()), p(now.getSeconds())]);
    setClockTime(time);
    document.getElementById("date").innerHTML = format(dateHtml, [p((now.getMonth() + 1)), p(now.getDate()), week.charAt(now.getDay())])
  }
  function init() {
    var elm = document.createElement("SCRIPT");
    elm.src = "http://open.baidu.com/app?module=beijingtime&t=" + new Date().getTime();
    document.getElementsByTagName("HEAD")[0].appendChild(elm);
    setTimeout(function() {
          init()
        },
        60000)
  }
  var timelist = new Date().getTime();
  window.list_time(timelist)
})();
/** CurrentTime End */
